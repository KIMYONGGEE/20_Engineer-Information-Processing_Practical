## 4. 데이터 조작 프로시저 최적화
- 쿼리 성능 개선
  - 데이터베이스에서 프로시저에 있는 SQL 실행 계획을 분석, 수정을 통해 최소의 시간으로 원하는 결과를 얻도록 프로시저를 수정하는 작업
  - 개선 절차
    1. 문제 있는 SQL 식별
    2. 옵티마이저 통계 획인
    3. SQL문 재구성
    4. 인덱스 재구성
    5. 실행계획 유지관리
- 옵티마이저
  - SQL을 가장 빠르고 효율적으로 수행할 최적의 처리경로를 생성해주는 DBMS 내부 핵심 엔진
  - RBO
    - Rule Based Optimizer
    - 규칙기반
    - 사용자가 원하는 처리경로로 유도하기 쉬움
  - CBO
    - Cost Based Optimizer
    - 비용기반
    - 옵티마이저의 이해도가 낮아도 성능보장 가능
  - 역할
    - 쿼리 변환
    - 비용 산정
    - 계획 생성
  - 힌트 사용
- 인덱스 재구성
  - 자주 쓰는 컬럼 선정
  - SORT 명령어 생략
  - 분포도를 고려
  - 변경 적은 컬럼 설정
  - 결합 인덱스 사용
---
#### 예상문제
1. 괄호( ) 안에 들어갈 데이터베이스 개념을 쓰시오.
    > SQL 성능 개선의 핵심부분으로 ( 1 )의 실행 계획을 원하는 대로 변경할 수 있게 한다.
    > ( 1 )가 항상 최선의 실행 계획을 수립할 수 없어 명시적인 ( 2 )를 통해서 실행계획을 변경한다
    <details>
        <summary>답</summary>
        1. 옵티마이저
        2. 힌트
    </details>
2. 괄호( ) 안에 공통으로 들어갈 용어를 쓰시오.
    > 옵티마이저가 생성한 SQL 처리 경로를 ( )이라고 부른다.
    > 사용자가 작성한 SQL이 요구한 데이터를 추출하기 위해 옵티마이저가 작업의 방법과 순서를 결정하는 것을 ( )이라고 부른다.
    <details>
        <summary>답</summary>
        실행계획; Execution Plan
    </details>
3. 데이터베이스 옵티마이저의 개념을 서술하시오.
    <details>
        <summary>답</summary>
        SQL을 가장 빠르고 효율적으로 수행할 최적의 처리경로를 생성해 주는 DBMS 내부의 핵심엔진이다.
    </details>
4. 옵티마이저와 관련하여 힌트를 사용하는 이유를 서술하시오.
    <details>
        <summary>답</summary>
        옵티마이저가 비정상적인 실행계획을 수립 시 힌트로서 액세스 경로 및 조인 순서를 제어할 수 있도록 하기 때문이다.
    </details>
---
### Keyword
<details>
    <summary>APM</summary>
    Application Performance Monitoring <br>
    안정적인 시스템 운영을 위해 부하량, 접속자 파악 및 장애진단 등을 목적으로 하는 성능 모니터링 도구를 의미
</details>
<details>
    <summary>해쉬조인</summary>
    해싱 함수 기법을 활용해서 조인을 수행하는 방식
</details>




